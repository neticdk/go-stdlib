<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# transliterate

```go
import "github.com/neticdk/stdlib/xstrings/transliterate"
```

Package transliterate provides functionality to convert Unicode text into plain ASCII equivalents.

It takes Unicode characters and replaces them with their closest ASCII representation \(e.g., 'é' becomes 'e', 'ü' becomes 'u'\). Characters without a known ASCII approximation are generally omitted.

Emoji and other pictographic symbols are omitted from the output as they have no standardized ASCII representation. If you need emoji\-to\-text conversion, consider using a dedicated emoji processing library.

The transliteration tables are based on the tables used here https://github.com/mozillazg/go-unidecode but they have been modified to include additional characters and improve accuracy.

Currently supports Unicode BMP \(U\+0000\-U\+FFFF\) and some supplementary planes:

- x1d4: Mathematical Alphanumeric Symbols
- x1d5: Mathematical Alphanumeric Symbols
- x1d6: Mathematical Alphanumeric Symbols
- x1d7: Mathematical Alphanumeric Symbols
- x1f1: Enclosed Alphanumeric Supplement
- x1f6: Transport and Map Symbols \+ Emoji Symbols

### Thread Safety

String\(\) and WithLimit\(\) are safe for concurrent use. The package maintains an internal cache that is thread\-safe and uses a buffer pool for improved performance under high concurrency.

### Cache Behavior

The package maintains a cache of up to 1000 character translations. When the cache becomes full, it is completely cleared. This approach favors simplicity over granular eviction but may affect performance for workloads with highly varying character sets.

### Configuration

The package can be configured using the Configure function with various options:

Cache size \(default 1000 entries\):

```
transliterate.Configure(transliterate.WithMaxCacheSize(5000))
```

Maximum input length \(default 1MB\):

```
transliterate.Configure(transliterate.WithMaxInputLength(1 << 24)) // 16MB
```

Multiple options can be combined:

```
transliterate.Configure(
    transliterate.WithMaxCacheSize(5000),
    transliterate.WithMaxInputLength(1 << 24),
)
```

Configuration should be done early in your application lifecycle, preferably before any calls to String\(\) or WithLimit\(\).

### Table Generation

The transliteration tables are generated from a text definition file. See tools/make\_tables/README.md and tools/convert\_tables/README.md for details on maintaining the tables.

Examples:

```
ascii := transliterate.String("これはひらがなです") // Output: "korehahiraganadesu"
ascii := transliterate.String("你好，世界") // Output: "Ni Hao, Shi Jie" (Depends on table)
```

## Index

- [Constants](<#constants>)
- [func ClearCache\(\)](<#ClearCache>)
- [func Configure\(opts ...CacheOption\)](<#Configure>)
- [func GetCacheSize\(\) int](<#GetCacheSize>)
- [func GetCacheStats\(\) \(hits uint64\)](<#GetCacheStats>)
- [func ResetCacheStats\(\)](<#ResetCacheStats>)
- [func String\(s string\) string](<#String>)
- [func WithLimit\(s string\) \(string, error\)](<#WithLimit>)
- [type CacheOption](<#CacheOption>)
  - [func WithMaxCacheSize\(size int\) CacheOption](<#WithMaxCacheSize>)
  - [func WithMaxInputLength\(length int\) CacheOption](<#WithMaxInputLength>)


## Constants

<a name="DefaultCacheSize"></a>Default configuration values

```go
const (
    DefaultCacheSize   = 1000
    DefaultMaxInputLen = 1 << 20 // 1MB
)
```

<a name="ClearCache"></a>
## func [ClearCache](<https://github.com/neticdk/go-stdlib/blob/main/xstrings/transliterate/cache.go#L67>)

```go
func ClearCache()
```

ClearCache empties the transliteration cache. This can be useful when memory pressure is high or when preparing for a new batch of translations.

<a name="Configure"></a>
## func [Configure](<https://github.com/neticdk/go-stdlib/blob/main/xstrings/transliterate/config.go#L45>)

```go
func Configure(opts ...CacheOption)
```

Configure applies the given options to the configuration

<a name="GetCacheSize"></a>
## func [GetCacheSize](<https://github.com/neticdk/go-stdlib/blob/main/xstrings/transliterate/cache.go#L75>)

```go
func GetCacheSize() int
```

GetCacheSize returns the current size of the transliteration cache. This can be useful for monitoring memory usage.

<a name="GetCacheStats"></a>
## func [GetCacheStats](<https://github.com/neticdk/go-stdlib/blob/main/xstrings/transliterate/cache.go#L54>)

```go
func GetCacheStats() (hits uint64)
```

GetCacheStats returns the number of cache hits since last reset. This can be used to monitor cache effectiveness.

<a name="ResetCacheStats"></a>
## func [ResetCacheStats](<https://github.com/neticdk/go-stdlib/blob/main/xstrings/transliterate/cache.go#L60>)

```go
func ResetCacheStats()
```

ResetCacheStats zeros out the cache statistics counter. Useful for beginning a new monitoring period.

<a name="String"></a>
## func [String](<https://github.com/neticdk/go-stdlib/blob/main/xstrings/transliterate/transliterate.go#L28>)

```go
func String(s string) string
```

String transliterates a Unicode string into its closest ASCII representation. For example, "é" becomes "e". Characters without a known approximation are omitted. Invalid UTF\-8 sequences are also omitted.

<a name="WithLimit"></a>
## func [WithLimit](<https://github.com/neticdk/go-stdlib/blob/main/xstrings/transliterate/transliterate.go#L55>)

```go
func WithLimit(s string) (string, error)
```

WithLimit transliterates a Unicode string into its closest ASCII representation, but limits the input string length to prevent excessive memory usage. For example, "é" becomes "e". Characters without a known approximation are omitted. Invalid UTF\-8 sequences are also omitted.

<a name="CacheOption"></a>
## type [CacheOption](<https://github.com/neticdk/go-stdlib/blob/main/xstrings/transliterate/config.go#L10>)

CacheOption allows configuration of the transliteration cache

```go
type CacheOption func(*config)
```

<a name="WithMaxCacheSize"></a>
### func [WithMaxCacheSize](<https://github.com/neticdk/go-stdlib/blob/main/xstrings/transliterate/config.go#L27>)

```go
func WithMaxCacheSize(size int) CacheOption
```

WithMaxCacheSize sets the maximum size of the cache

<a name="WithMaxInputLength"></a>
### func [WithMaxInputLength](<https://github.com/neticdk/go-stdlib/blob/main/xstrings/transliterate/config.go#L36>)

```go
func WithMaxInputLength(length int) CacheOption
```

WithMaxInputLength sets the maximum input string length

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
